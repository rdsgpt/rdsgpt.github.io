<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>DrRcraft JavaScript Editor</title>
        <link rel="stylesheet" href="../../style/site.css" />
        <link rel="stylesheet" href="style.css" />
        <link rel="icon" href="../../style/logo-small.svg" />
    </head>
    <body>
        <header>
            <nav>
                <a class="logo" href="../../">Code Editor</a>
                <div class="navlinks">
                    <a href="../../about/">About</a>
                    <a href="../../help/">Help</a>
                    <a href="../../create/">Create</a>
                    <a href="../../programs/">Programs</a>
                    <a href="../../preferences/">Preferences</a>
                    <a href="../../../">Version 2</a>
                </div>
            </nav>
        </header>
        <article>
            <h1>JavaScript Editor <span class="version">v3.0.0.22</span></h1>
            <p><strong style="color: #f50;">Note:</strong> This editor is currently in a testing phase. Some features may be missing, or completely not working.<br/>If you don't know JavaScript, please read <a href="https://developer.mozilla.org/en-US/docs/Learn/Front-end_web_developer" target="_blank">this MDN article on JavaScript basics.</a></p>
            <div id="controls">
                <button id="run" title="Run code (Ctrl-Enter)" aria-title="Run code (Ctrl-Enter)">Run</button>
                <button id="share" aria-title="Share code">Share</button>
                <button id="save" aria-title="Save code to My Programs">Save</button>
                <button id="clear" title="Clear output" aria-title="Clear output">Clear Output</button>
                <select id="examples" aria-title="List of examples">
                    <option>Select example...</option>
                </select>
                <div style="flex-grow: 1;"></div>
                <button id="tab-editor" title="Show editor" aria-title="Show editor">Code</button>
                <button id="tab-output" title="Show output" aria-title="Show output">Output</button>
                <button id="tab-log" title="Show log" aria-title="Show log">Log</button>
            </div>
            <div id="surface">
                <div id="editor"></div>
                <div id="output"></div>
                <div id="log" style="display: none;"></div>
            </div>
        </article>
        <div id="editor-ctx-menu">
            <button id="ctx-menu-btn-run" data-drrcraft-shortcut="Ctrl Enter">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor" aria-hidden="true" style="vertical-align: middle;">
                    <path d="M10.804 8 5 4.633v6.734L10.804 8zm.792-.696a.802.802 0 0 1 0 1.392l-6.363 3.692C4.713 12.69 4 12.345 4 11.692V4.308c0-.653.713-.998 1.233-.696l6.363 3.692z"></path>
                </svg>
                &nbsp; Run
            </button>
            <button id="ctx-menu-btn-run-fullscreen" class="ctx-menu-sep">
                <svg width="16" height="16" viewBox="0 0 18 18" fill="currentColor" aria-hidden="true" style="vertical-align: middle;">
                    <path d="M1.5 1a.5.5 0 0 0-.5.5v4a.5.5 0 0 1-1 0v-4A1.5 1.5 0 0 1 1.5 0h4a.5.5 0 0 1 0 1h-4zM10 .5a.5.5 0 0 1 .5-.5h4A1.5 1.5 0 0 1 16 1.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1-.5-.5zM.5 10a.5.5 0 0 1 .5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 0 14.5v-4a.5.5 0 0 1 .5-.5zm15 0a.5.5 0 0 1 .5.5v4a1.5 1.5 0 0 1-1.5 1.5h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 1 .5-.5z"></path>
                </svg>
                &nbsp; Run in Fullscreen
            </button>
            <button id="ctx-menu-btn-history" class="ctx-menu-sep">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" style="vertical-align: middle;">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M10.6402 2.35444C12.7334 2.05993 14.8657 2.45369 16.7157 3.47639C18.5657 4.49909 20.0332 6.09533 20.8971 8.02459C21.761 9.95385 21.9746 12.1116 21.5055 14.1728C21.0365 16.234 19.9103 18.0869 18.2966 19.4523C16.6829 20.8178 14.6692 21.6218 12.5588 21.7432C10.4484 21.8647 8.35576 21.297 6.59608 20.1257C4.8364 18.9544 3.50505 17.243 2.80262 15.2492C2.66498 14.8586 2.8701 14.4303 3.26078 14.2926C3.65145 14.155 4.07974 14.3601 4.21738 14.7508C4.81174 16.4378 5.93827 17.886 7.42723 18.8771C8.91619 19.8681 10.6869 20.3485 12.4726 20.2457C14.2583 20.1429 15.9622 19.4626 17.3277 18.3072C18.6931 17.1519 19.646 15.584 20.0429 13.84C20.4398 12.0959 20.2591 10.2701 19.5281 8.63763C18.7971 7.00518 17.5554 5.65452 15.99 4.78916C14.4246 3.9238 12.6204 3.59061 10.8492 3.83981C9.07796 4.08901 7.43572 4.90709 6.16988 6.17079C6.16453 6.17613 6.15909 6.1814 6.15358 6.18658L2.89341 9.25001H7C7.41421 9.25001 7.75 9.5858 7.75 10C7.75 10.4142 7.41421 10.75 7 10.75H1C0.585786 10.75 0.25 10.4142 0.25 10V4.00001C0.25 3.5858 0.585786 3.25001 1 3.25001C1.41421 3.25001 1.75 3.5858 1.75 4.00001V8.26611L5.11831 5.10107C6.61319 3.61225 8.55076 2.64841 10.6402 2.35444ZM12 6.25001C12.4142 6.25001 12.75 6.5858 12.75 7.00001V11.932L16.416 14.376C16.7607 14.6057 16.8538 15.0714 16.624 15.416C16.3943 15.7607 15.9286 15.8538 15.584 15.624L11.584 12.9574C11.3753 12.8183 11.25 12.5841 11.25 12.3333V7.00001C11.25 6.5858 11.5858 6.25001 12 6.25001Z"></path>
                </svg>
                &nbsp; History
            </button>
            <button id="ctx-menu-btn-cut" data-drrcraft-shortcut="Ctrl X">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" style="vertical-align: middle;">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M5.61413 1.35687C5.96931 1.14376 6.43001 1.25893 6.64312 1.61412L15.5157 16.4017C15.8262 16.3032 16.1569 16.25 16.5 16.25C18.2949 16.25 19.75 17.7051 19.75 19.5C19.75 21.2949 18.2949 22.75 16.5 22.75C14.7051 22.75 13.25 21.2949 13.25 19.5C13.25 18.5884 13.6253 17.7644 14.2299 17.1742L5.35688 2.38586C5.14377 2.03068 5.25894 1.56998 5.61413 1.35687ZM18.3859 1.35687C18.7411 1.56998 18.8562 2.03068 18.6431 2.38586L14.4431 9.38586C14.23 9.74105 13.7693 9.85622 13.4141 9.64311C13.0589 9.43 12.9438 8.96931 13.1569 8.61412L17.3569 1.61412C17.57 1.25893 18.0307 1.14376 18.3859 1.35687ZM10.8859 13.8569C11.2411 14.07 11.3562 14.5307 11.1431 14.8859L9.7701 17.1742C10.3747 17.7644 10.75 18.5884 10.75 19.5C10.75 21.2949 9.29493 22.75 7.5 22.75C5.70507 22.75 4.25 21.2949 4.25 19.5C4.25 17.7051 5.70507 16.25 7.5 16.25C7.84312 16.25 8.17383 16.3032 8.48432 16.4017L9.85688 14.1141C10.07 13.7589 10.5307 13.6438 10.8859 13.8569ZM7.5 17.75C6.5335 17.75 5.75 18.5335 5.75 19.5C5.75 20.4665 6.5335 21.25 7.5 21.25C8.4665 21.25 9.25 20.4665 9.25 19.5C9.25 18.5335 8.4665 17.75 7.5 17.75ZM16.5 17.75C15.5335 17.75 14.75 18.5335 14.75 19.5C14.75 20.4665 15.5335 21.25 16.5 21.25C17.4665 21.25 18.25 20.4665 18.25 19.5C18.25 18.5335 17.4665 17.75 16.5 17.75Z"></path>
                </svg>
                &nbsp; Cut
            </button>
            <button id="ctx-menu-btn-copy" data-drrcraft-shortcut="Ctrl C">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" style="vertical-align: middle;">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M9.05546 2.05546C9.57118 1.53973 10.2707 1.25 11 1.25H20C20.7293 1.25 21.4288 1.53973 21.9445 2.05546C22.4603 2.57118 22.75 3.27065 22.75 4V13C22.75 13.7293 22.4603 14.4288 21.9445 14.9445C21.4288 15.4603 20.7293 15.75 20 15.75H19C18.5858 15.75 18.25 15.4142 18.25 15C18.25 14.5858 18.5858 14.25 19 14.25H20C20.3315 14.25 20.6495 14.1183 20.8839 13.8839C21.1183 13.6495 21.25 13.3315 21.25 13V4C21.25 3.66848 21.1183 3.35054 20.8839 3.11612C20.6495 2.8817 20.3315 2.75 20 2.75H11C10.6685 2.75 10.3505 2.8817 10.1161 3.11612C9.8817 3.35054 9.75 3.66848 9.75 4V5C9.75 5.41421 9.41421 5.75 9 5.75C8.58579 5.75 8.25 5.41421 8.25 5V4C8.25 3.27065 8.53973 2.57118 9.05546 2.05546ZM1.25 11C1.25 9.48122 2.48122 8.25 4 8.25H13C14.5188 8.25 15.75 9.48122 15.75 11V20C15.75 21.5188 14.5188 22.75 13 22.75H4C2.48122 22.75 1.25 21.5188 1.25 20V11ZM4 9.75C3.30964 9.75 2.75 10.3096 2.75 11V20C2.75 20.6904 3.30964 21.25 4 21.25H13C13.6904 21.25 14.25 20.6904 14.25 20V11C14.25 10.3096 13.6904 9.75 13 9.75H4Z"></path>
                </svg>
                &nbsp; Copy
            </button>
            <button id="ctx-menu-btn-paste" data-drrcraft-shortcut="Ctrl V">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" style="vertical-align: middle;">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M9 2.75C8.86193 2.75 8.75 2.86193 8.75 3V5C8.75 5.13807 8.86193 5.25 9 5.25H15C15.1381 5.25 15.25 5.13807 15.25 5V3C15.25 2.86193 15.1381 2.75 15 2.75H9ZM16.75 3.25V3C16.75 2.0335 15.9665 1.25 15 1.25H9C8.0335 1.25 7.25 2.0335 7.25 3V3.25H6C5.27065 3.25 4.57118 3.53973 4.05546 4.05546C3.53973 4.57118 3.25 5.27065 3.25 6V20C3.25 20.7293 3.53973 21.4288 4.05546 21.9445C4.57118 22.4603 5.27065 22.75 6 22.75H18C18.7293 22.75 19.4288 22.4603 19.9445 21.9445C20.4603 21.4288 20.75 20.7293 20.75 20V6C20.75 5.27065 20.4603 4.57118 19.9445 4.05546C19.4288 3.53973 18.7293 3.25 18 3.25H16.75ZM16.75 4.75V5C16.75 5.9665 15.9665 6.75 15 6.75H9C8.0335 6.75 7.25 5.9665 7.25 5V4.75H6C5.66848 4.75 5.35054 4.8817 5.11612 5.11612C4.8817 5.35054 4.75 5.66848 4.75 6V20C4.75 20.3315 4.8817 20.6495 5.11612 20.8839C5.35054 21.1183 5.66848 21.25 6 21.25H18C18.3315 21.25 18.6495 21.1183 18.8839 20.8839C19.1183 20.6495 19.25 20.3315 19.25 20V6C19.25 5.66848 19.1183 5.35054 18.8839 5.11612C18.6495 4.8817 18.3315 4.75 18 4.75H16.75Z"></path>
                </svg>
                &nbsp; Paste
            </button>
        </div>
        <dialog id="modal-share">
            <h2 style="margin-top: 0;">Share</h2>
            <p style="margin-bottom: 0.9375rem;">Want to share your code with others? Use the below box!</p>
            <input type="text" id="share-link" readonly="true" style="width: 19rem;" />
            <button id="share-link-copy" aria-title="Copy link">Copy link</button>
            <h3>Other options</h3>
            <p style="margin-bottom: 0.9375rem;">If you need a way to share a program, but do not want to send a long link, here are some other options for you.<br/><strong style="color: #f50;">Note:</strong> If you click any buttons that contain "Export" or "Download" in their title, it will download a file to your computer, which will be about <span id="share-export-filesize">? bytes</span>.</p>
            <button id="share-export-typescript" aria-title="Download as TypeScript">Export / Download as TypeScript</button>
            <button id="share-export-javascript" aria-title="Download as JavaScript">Export / Download as JavaScript</button>
            <button id="share-export-plain-text" aria-title="Download as Plain Text">Export / Download as Plain Text</button>
            <br/>
            <button id="modal-share-close" aria-title="Close modal" style="margin-top: 0.9375rem;">Close</button>
        </dialog>
        <dialog id="modal-save">
            <h2 style="margin-top: 0;">Save Code to Programs</h2>
            <p style="margin-bottom: 0.9375rem;">Type the name of the program below, and it will save automatically.</p>
            <input type="text" id="save-name" style="width: 19rem;" />
            <button id="save-to-programs" aria-title="Save code">Save code</button>
            <br/>
            <button id="modal-save-close" aria-title="Close modal" style="margin-top: 0.9375rem;">Close</button>
        </dialog>
        <dialog id="modal-history">
            <h2 style="margin-top: 0;">History</h2>
            <div id="modal-history-view"></div>
            <div id="history-controls">
                <button id="history-play-pause">Play</button>
                <input type="range" id="history-time" min="0" max="0" step="0.1" style="flex-grow: 1;" />
            </div>
            <p style="margin-top: 0.4375rem; margin-bottom: 0.625rem;">Currently at <span id="current-time"></span></p>
            <button id="revert-code">Revert to 0</button>
            <button id="modal-history-close">Close</button>
        </dialog>
        <dialog id="modal-invalid-dv">
            <h2 style="margin-top: 0;">Invalid Data Version</h2>
            <p style="margin-bottom: 0.9375rem;">This link, which most likely came from the 'Share' tool, was created specifically in <span id="data-version"></span>, while you are on version 3.0.0.22. If you received this link from someone, please ask them to send you a more up-to-date link! If that is not possible, you can try loading the code anyway, or just use the default template.</p>
            <button id="invalid-dv-load-anyway" aria-title="Try to load code anyway">Try to Load Anyway</button>
            <button id="invalid-dv-load-default" aria-title="Use default template">Use Default Code</button>
        </dialog>
        <dialog id="modal-blocked-tutorial">
            <h2 style="margin-top: 0;">Unable to Open Tutorial</h2>
            <p style="margin-bottom: 0.9375rem;">This program has a tutorial, but it could not be opened automatically. To view it, either <a id="blocked-tutorial-open" target="_blank">open the tutorial in a new tab</a>, or enable pop-ups in your browser settings and refresh the page.</p>
            <button id="modal-blocked-tutorial-close">Close</button>
        </dialog>
        <iframe id="completion-source-frame"></iframe>
        <script type="module" src="script.js"></script>
    </body>
</html>
